<div class="form-element-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-element-list mg-t-30">
                    <div class="cmp-tb-hd">
                        <h5 class="tag-a">Edit Commission</h5>
                    </div>
                    <div class="form-example-int">
                        <div class="form-group">
                            <label>Commission</label>
                            <div class="nk-int-st">
                                <input type="text" id="commission" value="{{.Commission}}" class="form-control input-sm pd-l-12 ip-u" required
                                       placeholder="Enter new commission">
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn  title-page-upcase  btn-primary me-2" id="update">Update
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('#update').click(function() {
            var user_id = parseInt("{{.UserID}}", 10);
            var jsonData = {
                user_id: user_id,
                commission: parseInt($("#commission").val(), 10),
            };

            $.ajax({
                url: '/managements/sale-business/payments/edit',
                method: 'POST',
                contentType: "application/json",
                data: JSON.stringify(jsonData),

                success: function (response) {
                    if(response === "Success"){
                        swal({
                            title: 'Successfully !',
                            text: 'Update commission successfully',
                            icon: 'success',
                            button: {
                                text: "Close",
                                value: true,
                                visible: true,
                                className: "btn btn-primary"
                            }
                        })

                    }else{
                        swal({
                            title: 'Error !',
                            text: response,
                            icon: 'warning',
                            button: {
                                text: "Close",
                                value: true,
                                visible: true,
                                className: "btn btn-danger"
                            }
                        })
                    }

                },
                error: function () {
                    console.log('Error occurred while retrieving options');
                }
            });
        });
    });

</script>
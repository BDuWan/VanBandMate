<div class="form-element-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-element-list mg-t-30">
                    <div class="cmp-tb-hd">
                        <h5 class="tag-a">Edit Price Program</h5>
                    </div>
                    <div class="form-example-int">
                        <div class="form-group">
                            <label>Price</label>
                            <div class="nk-int-st">
                                <input type="text" id="price" value="{{.Price.Price}}" class="form-control input-sm pd-l-12 ip-u" required
                                    placeholder="Enter price">
                            </div>
                        </div>
                    </div>
                    <div class="form-example-int">
                        <div class="form-group">
                            <label>Commission</label>
                            <div class="nk-int-st">
                                <input type="text" id="commission" value="{{.Price.Commission}}" class="form-control input-sm pd-l-12 ip-u" required
                                       placeholder="Enter Commission">
                            </div>
                        </div>
                    </div>
                    <div class="form-example-int">
                        <div class="form-group">
                            <label>Description</label>
                            <div class="nk-int-st">
                                <input type="text" id="description" value="{{.Price.Description}}" class="form-control input-sm pd-l-12 ip-u"
                                       placeholder="Enter description">
                            </div>
                        </div>
                    </div>
                    <div class="form-example-int form-horizental mg-t-15">
                        <div class="form-group">
                            <label>Start Time</label>
                            <div class="nk-int-st">
                                <input type="datetime-local" class="form-control input-sm ip-u" value="{{.Price.StartTime.Format "2006-01-02T15:04"}}" id="start-time">
                            </div>
                        </div>
                    </div>
                    <div class="form-example-int form-horizental mg-t-15">
                        <div class="form-group">
                            <label>End Time</label>
                            <div class="nk-int-st">
                                <input type="datetime-local" class="form-control input-sm ip-u" value="{{.Price.EndTime.Format "2006-01-02T15:04"}}" id="end-time">
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn  title-page-upcase  btn-primary me-2" id="edit">Update
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
    var price_program_id = {{.Price.PriceProgramID}};
    $('#edit').click(function() {
        var price= parseInt($("#price").val(), 10);
        var commission= parseInt($("#commission").val(), 10);
        var description =  $("#description").val();
        var start_time= $("#start-time").val();
        var end_time= $("#end-time").val();

        var jsonData = {
            price: price,
            commission: commission,
            description: description,
            start_time: start_time,
            end_time: end_time,
        };

        $.ajax({
            url: '/managements/mng-payments/prices/'+price_program_id,
            method: 'PUT',
            contentType: "application/json",
            data: JSON.stringify(jsonData),

            success: function (response) {
                if(response === "Success"){
                    swal({
                        title: 'Successfully !',
                        text: 'Update price program successfully',
                        icon: 'success',
                        button: {
                            text: "Close",
                            value: true,
                            visible: true,
                            className: "btn btn-primary"
                        }
                    })

                }else{
                    swal({
                        title: 'Error !',
                        text: response,
                        icon: 'warning',
                        button: {
                            text: "Close",
                            value: true,
                            visible: true,
                            className: "btn btn-danger"
                        }
                    })
                }

            },
            error: function () {
                console.log('Error occurred while retrieving options');
            }
        });
    });
});
</script>
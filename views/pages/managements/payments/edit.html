<div class="form-element-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-element-list">
                    <div class="basic-tb-hd">
                        <h2>Edit configuration of payment</h2>
                        <!--                        <p>Text Inputs with different sizes by height and column.</p>-->
                    </div>                   
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="form-example-wrap">
                                <div class="form-example-int form-horizental mg-t-15">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                <label class="hrzn-fm">Commission Default</label>
                                            </div>
                                            <div class="col-lg-6 col-md-7 col-sm-7 col-xs-12">
                                                <div class="nk-int-st">
                                                    <input type="text" class="form-control input-sm ip-u" 
                                                    value="{{.ConfigPayment.CommissionDefault}}"  required 
                                                    placeholder="Enter commission default" 
                                                    name="commission-default" 
                                                    id="ip-commission-default">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-example-int form-horizental">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                <label class="hrzn-fm">Commisison Bonus</label>
                                            </div>
                                            <div class="col-lg-6 col-md-7 col-sm-7 col-xs-12">
                                                <div class="nk-int-st">
                                                    <input type="text" class="form-control input-sm ip-u" 
                                                    value="{{.ConfigPayment.CommissionBonus}}"  
                                                    required placeholder="Enter commission bonus" 
                                                    name="commission-bonus" 
                                                    id="ip-commission-bonus">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-example-int form-horizental">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                <label class="hrzn-fm">Number students to get bonus</label>
                                            </div>
                                            <div class="col-lg-6 col-md-7 col-sm-7 col-xs-12">
                                                <div class="nk-int-st">
                                                    <input type="text" class="form-control input-sm ip-u" 
                                                    value="{{.ConfigPayment.NumberToGetBonus}}"  
                                                    required placeholder="Enter number students to get bonus" 
                                                    name="number-student" 
                                                    id="ip-number-student">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-example-int form-horizental">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                <label class="hrzn-fm">Number days of a period</label>
                                            </div>
                                            <div class="col-lg-6 col-md-7 col-sm-7 col-xs-12">
                                                <div class="nk-int-st">
                                                    <input type="text" class="form-control input-sm ip-u" 
                                                    value="{{.ConfigPayment.NumberDayPeriod}}"  
                                                    required placeholder="Enter number days of period" 
                                                    name="number-day" 
                                                    id="ip-number-day">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary me-2" id="edit">Update
                                </button>              
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
    $('#edit').click(function() {
        var cms_default= parseFloat($("#ip-commission-default").val(), 10);
        var cms_bonus= parseFloat($("#ip-commission-bonus").val(), 10);
        var number_student =  parseInt($("#ip-number-student").val(), 10);
        var number_day= parseInt($("#ip-number-day").val(), 10);

        var jsonData = {
            commission_default: cms_default,
            commission_bonus: cms_bonus,
            number_student: number_student,
            number_day: number_day,
        };

        $.ajax({
            url: '/managements/mng-payments/config',
            method: 'PUT',
            contentType: "application/json",
            data: JSON.stringify(jsonData),

            success: function (response) {
                if(response === "Success"){
                    swal({
                        title: 'Successfully !',
                        text: 'Update price program successfully',
                        icon: 'success',
                        button: {
                            text: "Close",
                            value: true,
                            visible: true,
                            className: "btn btn-primary"
                        }
                    })

                }else{
                    swal({
                        title: 'Error !',
                        text: response,
                        icon: 'warning',
                        button: {
                            text: "Close",
                            value: true,
                            visible: true,
                            className: "btn btn-danger"
                        }
                    })
                }

            },
            error: function () {
                console.log('Error occurred while retrieving options');
            }
        });
    });
});
</script>